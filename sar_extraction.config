# Configuration du service d'extraction SAR
# Ce fichier permet de personnaliser facilement les paramètres

# ==============================================================================
# CONFIGURATION DU SERVEUR
# ==============================================================================

# Port sur lequel le serveur d'extraction écoute
# Par défaut : 5001
SAR_EXTRACTION_PORT=5001

# Host du serveur
# 0.0.0.0 = écoute sur toutes les interfaces réseau
SAR_EXTRACTION_HOST=0.0.0.0

# Mode debug (True/False)
# Activer pour des logs détaillés et le rechargement automatique
SAR_EXTRACTION_DEBUG=True

# ==============================================================================
# CONFIGURATION DU WEBHOOK N8N
# ==============================================================================

# URL du webhook n8n pour recevoir les données extraites
# Modifier cette URL selon votre configuration n8n
SAR_WEBHOOK_URL=https://velox-n8n.yhmr4j.easypanel.host/webhook-test/sar-address-extraction

# Secret JWT pour authentifier les requêtes (optionnel)
# Laisser vide si pas d'authentification requise
SAR_WEBHOOK_SECRET=

# ==============================================================================
# CONFIGURATION DE L'EXTRACTION
# ==============================================================================

# Pattern de recherche dans le PDF (regex)
# Par défaut, recherche "Libellé d'adresse :" (avec variantes)
SAR_ADDRESS_PATTERN=libell[eé]\s+d[\'']adresse\s*:

# Format attendu pour NPA + Commune
# Par défaut : "1870 Monthey" (4 à 6 chiffres + espace + texte)
SAR_NPA_COMMUNE_PATTERN=^(\d{4,6})\s+(.+)$

# Nombre de lignes à lire après le pattern trouvé
SAR_LINES_AFTER_PATTERN=2

# ==============================================================================
# CONFIGURATION DES LOGS
# ==============================================================================

# Niveau de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Format des logs
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ==============================================================================
# NOTES D'UTILISATION
# ==============================================================================

# Pour utiliser ce fichier de configuration :
# 1. Renommer ce fichier en .env (si vous utilisez python-dotenv)
# 2. Ou importer les valeurs dans votre environnement PowerShell/Bash
# 3. Ou modifier directement les valeurs dans extract_sar_address.py

# Exemple PowerShell :
# $env:SAR_EXTRACTION_PORT="5001"
# $env:SAR_WEBHOOK_URL="https://mon-webhook.com/endpoint"

# Exemple Bash/Linux :
# export SAR_EXTRACTION_PORT=5001
# export SAR_WEBHOOK_URL="https://mon-webhook.com/endpoint"
